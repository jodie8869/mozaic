<html>
	<head>
		<title>Mozaic</title>
		<style>
			@import url(http://fonts.googleapis.com/css?family=Nunito:400,700);

			body {
				font-family: "Helvetica Neue";
				margin: 40px auto;
			  	width: 960px;
			}

			h1 {
				font-size: 96px;
  				margin-top: .3em;
  				margin-bottom: 0;
  				display: block;
  				font-weight: bold;
			}

			h2 {
  				font-weight: 400;
  				font-size: 28px;
  				margin-bottom: 10px;
  				display: block;
			}

			h3 {
				font-weight: 400;
  				font-size: 18px;
  				margin-bottom: 10px;
  				display: block;
			}

			h1, h2, h3 {
  				font-family: "Nunito";
  				text-rendering: optimizeLegibility;
			}

			p {
				line-height: 1.5em;
				width: 640px;
				text-rendering: optimizeLegibility;
			}

			a:link {
				color: #1122cc;
			}

			a:visited {
				color: #1122cc;
			}


			span.method {
				color: #9e0142;
			}

			.code-box {
				width: 640px;
			}

		</style>
	</head>
	<body>
		<h1>Mozaic</h1>
		<h3>Transform a canvas picture into a photomosaic of small thumbnail images</h3>

		<p>
			<b>Mozaic</b> is a jQuery based <a href="https://github.com/efekarakus/mozaic">JavaScript library</a> 
			for transforming an HTML5 canvas into a photomosaic of small images.
		</p>
		<p>
			The underlying data structure used to find the closest tile image is a <i>k</i>d-tree with <i>k</i> = 3. This library is
			adapted from the <a href="https://wiki.engr.illinois.edu/display/cs225/MP+6">Data Structures and Algorithms</a> course 
			from the <a href="http://www.illinois.edu">University of Illinois at Urbana-Champaign</a>. For more details on how <b>Mozaic</b> works
			check out the <a href="https://github.com/efekarakus/mozaic/wiki/API-Reference">API Reference</a>.
		</p>
		<h2>Example</h2>
		<p>
			<b>Mozaic</b> is simple to use. In the example below we first draw the image on the canvas and then apply 
			<span class="method">mozaic()</span>. The function takes a single parameter <i>data</i> which is the path to a JSON object containing information about the tiles for the mosaic. You can find a dataset of tiles <a href="./all-tiles.json">here</a>.
		</p>
		<div class="code-box">
			<script src="https://gist.github.com/3288644.js"></script>
		</div>
		<p>
			The images on the left are the original images whereas the images on the right are the results of applying <span class="method">mozaic()</span> on them. (Click the images to view them full-size)

		</p>
		<p>
			<a href="./catongrass.jpg">
				<img src="small-catongrass.jpg"></img>
			</a>
			<a href="./tile-catongrass.png">
				<img src="small-tile-catongrass.png"></img>
			</a>
			<br/>
			<br/>
			<a href="./husky.jpeg">
				<img src="small-husky.jpg"></img>
			</a>
			<a href="./tile-husky.png">
				<img src="small-tile-husky.png"></img>
			</a>
		</p>
		<h2><i>k</i>d-tree Find Nearest Neighbor vs. Linear Search</h2>
		<p>
			The graph below illustrate the speed difference between the <span class="method">findNearestNeighbor()</span> algorithm of 
			<i>k</i>d-trees vs. a simple <span class="method">linearSearch()</span> to find the closest tiles. The graph is built using the husky
			image which contains 1938 tiles.
		</p>
		<p>
			<div id="time-container" style="width: 600px; height: 400px;"></div>
		</p>
	</body>

	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<script src="http://code.highcharts.com/modules/exporting.js"></script>
	<script type="text/javascript">
		$(function() {
			var chart;
			$(document).ready(function() {
				chart = new Highcharts.Chart({
					chart: {
						renderTo: 'time-container',
						type: 'line',
						marginLeft: 70,
						marginBottom: 35
					},
					title:{
						text: 'fNN vs. LinearSearch',
						x: -20
					},
					xAxis: {
						title: {
							text: '# of Tiles'
						},
						categories: ['100', '200', '300', '400', '500', '600',
							'700', '800', '900', '1000']
					},
					yAxis: {
						title: {
							text: 'Time (ms)'
						},
						plotLines: [{
							value: 0,
							width: 1,
							color: '#808080'
						}]
					},
					tooltip: {
						formatter: function() {
							return '<b>' + this.series.name + '</b><br/>' +
							this.x + ' tiles: ' + this.y + ' ms';
						}
					},
					legend: {
						layour: 'vertical',
						align: 'right',
						verticalAlign: 'top',
						x: -10,
						y: 100,
						borderWidth: 0
					},
					series: [{
						name: 'LinearSearch',
						data: [9310,20316,28448,37338,46625,56641,67288,75460,86985,94084]
					}, {
						name: 'fNN',
						data: [3498, 3961,4175,4897,5152,5407,5898,6183,6264,6382]
					}]
				})
			});
		});
	</script>
</html>